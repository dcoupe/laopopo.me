充满期待的一天，头脑中还是浑浑噩噩，天好冷。中午去了趟银行，公交车上和一群打闹着的小孩挤在一起。忙忙碌碌的这么多天过去了，是时候放松下了。

很早就打算今天上线改版的博客，<a href="http://www.zhangshibing.com">老婆婆的远大梦想</a>，离alpha版本上线正好相隔一个月时间，@<a href="http://weibo.com/yuyige" target="_blank">令狐伯爵</a> 当初的一句“设定个时间，一个月”，也就成为了“逼迫”着我学习，改进的动力。现在也可以好好的松一口气，完成任务了。

前前后后正好一个月时间，PHP从几乎一点都不懂到现在慢慢熟练。前大半个月都是在学，买了本PHP书，寝室看看，上课看看，图书馆看看。后面不长也不短的时间就是边学边练了，之前也担心自己没学够，如果直接就开发的话，可能会遇到很多难以解决的问题，或者绕很多弯路。但是因为时间的关系，就硬着头皮上了，遇到问题再去找办法解决。

于是，就开始忙碌了，这是条不归路。

最开始看了一个视频教程，大二的时候自学PS就是这么学过来的，自我感觉学的还不错。那个视频教程叫某某PHP最快入门，总共就10多集，而且最开始看，基本没有任何难度，很多都是和Java类似，至少思想方法很多相像。仿佛越学越有兴趣，越好奇PHP后面到底是什么样子。花了大概2天左右时间看完基本知识，然后便是一些功能模块的练习，可是到后面就头大了，至少我可以确定一定以及肯定的说，那位老师根本没讲什么是$_POST，这里是我印象最深刻的，看的我一头雾水，自己百度才大概弄明白。再到后面还是一样，太多东西不讲就直接用，我也实在没有耐心一个个百度了，这样我还不如全部百度算了。

之后选择了另一位老师的视频，我只知道他叫李炎恢，毕竟每集开头和结尾他都要强调“大家好，欢迎收看..我是主讲老师李炎恢...”。内容很多，这也是我一开始没有选择看的原因。直接从MySQL那里看起，有种拨云见日的感觉，很多朦胧的概念都变得很晴朗（当然，也要感谢之前那位老师啦），看的时候手其实一直是忙碌的状态，与其说是看，不如说是边看边练，因为要跟着老师一起敲代码（也正是如此，狠心把我贴了一年多的80多块钱的键盘膜拿掉，敲起来快多了，哇咔咔）。之后便跟着做了一套多用户留言系统，结束后已然过了11月中旬了。

硬着头皮直接开发，于是就再次验证我之前一直说的那句话：“开始了，就停不下来了”。

简单的把首页改了下，“老婆婆的远大梦想”这几个字用了别的字体，显得比较大气，做成图片背景。当然，为了便于搜索引擎收录，这几个字还是存在的，只不过 text-indent=9999px 了，而且加上了&lt;h1&gt;标签，其实就是中间的导航居中对齐，之前是margin-left。

然后就是改版博客页，也不能说是改版了，简直就是重构，去掉很多花哨的背景，图标，力求简洁而不单调。接着就是把之前写过的还能找得到的所有文章都发布到数据库里（竟然有100多篇），然后就是首页从数据库抓取数据，循环打印出来，页面太长自然要分页（停不下来吧），原理之前也看过，SQL语句中加入LIMIT，但是纠结于如何显示页数的列表，总不可能把页数全部显示出来吧，按每页显示10篇文章的话，也得12页。最后看了腾讯CDC的分页形式，感觉好看又实用，就打算用这个了，不过说实话，这个小小的页数的列表花了我几个小时的时间，现在想想是很简单，三个判断就好了。但也不知道那天晚上是因为太累，还是什么原因导致脑袋堵塞了，就是花了好长时间。

之后是写入文件，fileopen之类的，之前也看过啦，所以也没什么好说的，很简单。

然后就是评论了，记得当时发了条微博<a href="http://weibo.com/2005321383/xz79PdPT5" target="_blank">在详细页导入评论，算是这个礼拜来遇到的最大的瓶颈了... ...</a>，按照之前的写入html的方法其实挺简单的，替换复制写入，但是很奇怪的地方出现了，最后写入到单个html文件有时会不完整，刚开始以为是某个函数或者什么写错了，检查了一段时间，确定是没问题的，但是还是显示不完整，然后又重写了函数，结果还是一样，时间很晚，带着困惑去睡觉了。但是在床上翻来覆去，脑子里一直有疑惑，突然间像恍然大悟一般，应该是字符串保留长度限制的问题，仔细推敲下，应该就是这个原因。那天大概1点多钟睡着的。

第二天一早起来，就打开了电脑，很快便解决了这个问题，将模版文件拆分，一段一段的追加到html文件即可。

接着做了个标签分类，文件的结构改了很多，根目录下面的blog.php文件移到里面的文件夹里，再按照年份，月份分别创建文件夹，这样文章的分类就更明朗了，不用挤在一个文件夹里面。很快就完成了这些东西，然后又做了搜索，更改下结果集就好，也不难。

这时候就觉得右边栏有点花，于是又花了点时间整理下，统一了UI，正常状态下颜色值是#FF9900，鼠标经过时是#FF6600，这样的改动也包括了之前做好了的评论框，分页的样式甚至是返回顶部的按钮。

到这里，博客的页面也就差不多了，有些细节是之后才加上去的。
然后就是图片的页面啦，一天多一点的时间就搞定了，用了之前的CSS样式，html中混入写php代码就好了。上机课的时候看了那个<a href="http://ued.taobao.com/blog/2011/09/14/waterfall/" target="_blank">瀑布流式布局浅析</a>，讲了三种方法，但是很可惜，只会第一种，也就是最简单的一种，但是做出来的时候看上去很乱，图片时长时短，又不会CSS3的智能对其，于是就限定了每个div块的长度，这样每一列到底就能对其了。感觉也是很不错。

图片板块的其他也没什么好说的，借鉴了之前的博客板块，生成html文件，加入评论等等。<a href="http://weibo.com/2005321383/xzKL6EZoI" target="_blank">相关微博</a>

音乐板块就更加简单了，部分采用了之前的CSS代码，然后就是生成静态的html文件，加入评论。因为每一个div块都是等宽等高，所以比图片板块还要简单，整页抓取8条数据，float=left，然后进行分页即可。

到这里基本都完成了，昨天晚上看了下RSS2.0的规范文档，就模仿着做了个RSS订阅，刚开始百度的时候很多人说遇到不符合规范的问题，可是我做完的时候把xml文件传到服务器，用Google Reader 抓取的时候，几乎是瞬间都抓到了，但是鲜果以及抓虾就相对逊色很多了。<a href="http://weibo.com/2005321383/xA2SJ0xeE" target="_blank">相关微博</a>

早上加入了评论中加入表情的功能，回复评论功能。

就此，也算是大功告成了，肯定还有写细节问题，之后再改进，相比于因为学校本科评估，一个礼拜三天被学校，老师逼迫着准时去上课来说，这件事还是蛮有成就感的。就此打住吧，写的有点长了，自己都看不下了。有人看完了么？吱一声吧。
